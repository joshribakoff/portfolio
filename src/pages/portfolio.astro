---
import Layout from '../layouts/Layout.astro';
import TimelineEntry from '../components/TimelineEntry.astro';

const jobs = [
  {
    time: "2022 - Present",
    title: "Bloomberg",
    subtitle: "Senior Software Engineer",
    description: "Global financial data and analytics company providing real-time market data, news, and trading tools to professionals worldwide.",
    technologies: [{ name: "React" }, { name: "TypeScript" }],
    image: "images/bloomberg.svg",
  },
  {
    time: "Oct 2020 - Nov 2021",
    title: "Brex",
    subtitle: "Senior Software Engineer",
    description: "American fintech company offering business credit cards and cash management to technology companies.",
    bullets: [
      "Maintained infrastructure for ACH money movements",
      "Instrumented services with metrics, built dashboards and SLOs",
      "Added resiliency patterns: transactional events, retries, out-of-order event handling",
      "Worked with cross-functional stakeholders to achieve 80% reduction in servicing interventions",
      "Contributed to testing patterns, platform improvements, and recruiting efforts",
    ],
    technologies: [
      { name: "TypeScript" }, { name: "React" }, { name: "Elixir" },
      { name: "GraphQL" }, { name: "gRPC" }, { name: "Kubernetes" }, { name: "Postgres" },
    ],
    image: "images/brex.svg",
  },
  {
    time: "Feb 2020",
    title: "Cruise",
    subtitle: "Senior Software Engineer",
    description: "An American self-driving car company headquartered in San Francisco, California",
    image: "images/cruise.png",
  },
  {
    time: "Aug 2018",
    title: "Amazon / Twitch",
    subtitle: "Senior Software Engineer (react)",
    description: "Twitch is a live streaming video platform owned by Twitch Interactive, a subsidiary of Amazon.",
    image: "images/twitch.png",
  },
  {
    time: "Feb 2015",
    title: "Isite Software / EMS Linq",
    subtitle: "Distrupting the school lunch room",
    description: "Isite Software is a web, mobile & digital signage platform for over 1,000 school districts viewed by millions of students daily",
    bullets: [
      "a drag & drop interactive online calendar menu designer",
      "a network of thousands of IOT devices & custom digital signage administration software & campaign designer",
    ],
    detailsLink: "isite/",
    technologies: [
      { name: "Docker", url: "http://docker.com/" },
      { name: "Vagrant", url: "https://www.vagrantup.com/" },
      { name: "Ansible", url: "https://www.ansible.com/" },
      { name: "AWS", url: "https://aws.amazon.com/" },
      { name: "Mongo", url: "https://www.mongodb.com/" },
      { name: "Mysql", url: "https://www.mysql.com/" },
      { name: "NodeJS", url: "https://nodejs.org/en/" },
      { name: "PHP", url: "http://php.net/" },
      { name: "Symfony", url: "https://symfony.com/" },
      { name: "Silex", url: "https://silex.symfony.com/" },
      { name: "Angular JS", url: "https://angularjs.org/" },
      { name: "React", url: "https://reactjs.org/" },
      { name: "Redux", url: "https://redux.js.org/" },
      { name: "Webpack", url: "https://webpack.js.org/" },
      { name: "Babel", url: "http://babeljs.io/" },
      { name: "SocketIO", url: "https://socket.io/" },
      { name: "Pm2", url: "http://pm2.keymetrics.io/" },
      { name: "Supervisor", url: "http://supervisord.org/" },
      { name: "GraphQL", url: "https://graphql.org/" },
      { name: "Gearman", url: "http://gearman.org/" },
      { name: "ffmpeg", url: "https://www.ffmpeg.org/" },
      { name: "Headless Chrome", url: "https://developers.google.com/web/updates/2017/04/headless-chrome" },
    ],
    image: "images/isite.png",
  },
  {
    time: "Jan 2014",
    title: "Entertainment Company",
    subtitle: "Paid membership video streaming platform",
    description: "This company, based in San Diego, produced premium video content for consumption by paid members",
    bullets: [
      "a membership signup & billing management platform",
      "a video transcoding pipeline with preview thumbnails & playback heatmaps for analytics",
    ],
    technologies: [
      { name: "Mysql", url: "https://www.mysql.com/" },
      { name: "PHP", url: "http://php.net/" },
      { name: "Silex", url: "https://silex.symfony.com/" },
      { name: "Angular JS", url: "https://angularjs.org/" },
      { name: "AWS", url: "https://aws.amazon.com/" },
    ],
    image: "images/video.jpeg",
  },
  {
    time: "Jun 2013",
    title: "Paquin Healthcare",
    subtitle: "Healthcare supply chain experts",
    description: "Paquin provides all in one e-commerce solutions and generates new revenues for 300+ healthcare providers",
    bullets: [
      "Healthcare re-imbursement portal for Optum insurance",
      "Secure encrypted messaging platform iRemedy integrated with withings scale & blood pressure monitors",
    ],
    technologies: [
      { name: "PHP", url: "http://php.net/" },
      { name: "Magento", url: "https://www.magento.com/" },
      { name: "Jquery", url: "https://jquery.com/" },
    ],
    image: "images/paquin.png",
  },
  {
    time: "Apr 2013",
    title: "BMV Corp",
    subtitle: "Debt Management Experts",
    description: "BMV Corp helped consumers with debt negotiate better rates with creditors & disbursed funds on behalf of consumers",
    bullets: [
      "Wrote a RTF to HTML / HTML to RTF conversion algorithm",
      "50+ variations of legal contracts for PDF / CUPs document generation & printing system",
    ],
    technologies: [
      { name: "PHP", url: "http://php.net/" },
      { name: "Zend", url: "https://framework.zend.com/" },
      { name: "Jquery", url: "https://jquery.com/" },
    ],
    image: "images/illuminati.jpeg",
  },
  {
    time: "Mar 2013",
    title: "Fame Fitness",
    subtitle: "Turn-key luxury fitness management",
    description: "Fame Fitness provided a white glove experience for high rises & luxury condominiums in Miami, staffing the gyms & providing one on one personal training & massage",
    bullets: [
      "a self service booking system with credit card payments & credit system",
      "a personalized health & vital tracker",
    ],
    detailsLink: "famefitness/",
    technologies: [
      { name: "PHP", url: "http://php.net/" },
      { name: "Jquery", url: "https://jquery.com/" },
      { name: "Mysql", url: "https://www.mysql.com/" },
    ],
    image: "images/famefitness/famefit-cal.png",
  },
  {
    time: "Jan 2008",
    title: "Vehicle Fits",
    subtitle: "Aftermarket parts lookup tool",
    description: "I initially founded Vehicle Fits to provide a year/make/model lookup tool, it quickly expanded to a generalized fitments tool used by multiple vertical industries.",
    bullets: [
      "a dynamic schema system / custom fields engine",
      "industry specific plugins like wheel & tire fitments, bolt patterns tools, bulk import tools, etc..",
    ],
    technologies: [
      { name: "PHP", url: "http://php.net/" },
      { name: "Jquery", url: "https://jquery.com/" },
      { name: "Mysql", url: "https://www.mysql.com/" },
      { name: "Magento", url: "https://www.magento.com/" },
    ],
    image: "images/vehiclefits/website.png",
  },
  {
    time: "Jan 2006",
    title: "Marinas.com",
    subtitle: "The premier website for marine information",
    bullets: [
      "a custom Google Maps clone",
      "a turn-key data ingestion system using geo-clustering",
    ],
    detailsLink: "marinas/",
    technologies: [
      { name: "PHP", url: "http://php.net/" },
      { name: "Jquery", url: "https://jquery.com/" },
      { name: "Mysql", url: "https://www.mysql.com/" },
    ],
    image: "images/marinas/page3.jpg",
  },
];
---

<Layout title="Portfolio - Josh Ribakoff">
  <div class="page">
    <h1>Portfolio</h1>
    <ul class="timeline">
      {jobs.map(job => <TimelineEntry {...job} />)}
    </ul>
  </div>
</Layout>

<style>
  .page {
    padding: 1rem 0;
  }

  .page h1 {
    margin-bottom: 2rem;
  }

  .timeline {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .timeline :global(.element) {
    position: relative;
    overflow: hidden;
    display: block;
    margin: 0;
    padding: 0;
  }

  .timeline :global(.divider) {
    border-bottom: 1px solid var(--border);
    margin-left: 160px;
    height: 30px;
    margin-bottom: 30px;
    clear: both;
  }

  .timeline :global(.time) {
    line-height: 1.5;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    width: 100px;
    padding: 30px 15px;
    padding-top: 0;
    color: var(--text-secondary);
    text-align: right;
    font-style: italic;
    border-right: 1px solid var(--border);
  }

  .timeline :global(.label) {
    display: block;
    font-family: "Roboto Mono", monospace;
    position: relative;
    font-size: 0.9rem;
  }

  .timeline :global(.label)::after {
    content: " ";
    position: absolute;
    top: 10px;
    right: -17.5px;
    display: block;
    width: 8px;
    height: 8px;
    background-color: var(--accent);
    border-radius: 50%;
  }

  .timeline :global(.contents) {
    margin-left: 150px;
  }

  .timeline :global(.description) {
    font-family: "Open Sans", sans-serif;
  }

  .timeline :global(.description h2) {
    margin-top: 0;
    margin-bottom: 0.25rem;
  }

  .timeline :global(.description h3) {
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    font-size: 0.85rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .timeline :global(.description p) {
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
  }

  .timeline :global(.description ul) {
    color: var(--text-secondary);
    margin-bottom: 1rem;
  }

  .timeline :global(.photo img) {
    max-width: 100%;
    border-radius: 4px;
  }

  @media (min-width: 1000px) {
    .timeline :global(.description) {
      float: left;
      width: 50%;
    }

    .timeline :global(.photo) {
      float: left;
      width: 50%;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
  }

  .timeline :global(.button) {
    display: inline-block;
    margin-top: 10px;
    background-color: var(--accent);
    border: none;
    color: #0a0a0a;
    padding: 0.6em 1.2em;
    text-decoration: none;
    font-weight: 600;
    border-radius: 4px;
    transition: background-color 0.2s ease;
  }

  .timeline :global(.button:hover) {
    background-color: var(--accent-hover);
    color: #0a0a0a;
  }

  .timeline :global(.tags) {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .timeline :global(.tag) {
    display: inline-block;
    background-color: var(--bg-card);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 4px 10px;
    font-size: 0.75rem;
    text-transform: uppercase;
    text-decoration: none;
    font-family: "Roboto Mono", monospace;
    border-radius: 3px;
    transition: border-color 0.2s ease;
  }

  .timeline :global(.tag:hover) {
    border-color: var(--accent);
    color: var(--accent);
  }

  @media (max-width: 768px) {
    .timeline :global(.time) {
      position: relative;
      width: auto;
      border-right: none;
      text-align: left;
      padding: 0 0 0.5rem 0;
    }

    .timeline :global(.label)::after {
      display: none;
    }

    .timeline :global(.contents) {
      margin-left: 0;
    }

    .timeline :global(.divider) {
      margin-left: 0;
    }
  }
</style>
